<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Form Pengisian Lokasi</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&libraries=places"></script>
  <style>
   /* Reset dan dasar layout */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: Arial, sans-serif;
  background-color: #f5f5f5;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 20px;
}

/* Banner */
.banner {
  width: 100%;
  max-width: 400px;
  text-align: center;
  margin-bottom: 20px;
}

.banner img {
  width: 100%;
  border-radius: 8px;
}

.container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 40px;
  max-width: 400px;
  width: 100%;
  margin-bottom: 20px;
}

/* Step by step navigation */
.container .steps {
  display: flex;
  width: 100%;
  align-items: center;
  justify-content: space-between;
  position: relative;
}

.progress {
  display: flex;
  width: 80%;
  position: relative;
  flex-direction: row;
}

.progress-line {
  position: absolute;
  left: 50%;
  width: 50%;
  height: 2px;
  background-color: #ccc;
  transform: translateY(-50%);
}

.steps .step {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}

.steps .circle {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 50px;
  width: 50px;
  color: #999;
  font-size: 22px;
  font-weight: 500;
  border-radius: 50%;
  background: #fff;
  border: 4px solid #e0e0e0;
  transition: all 200ms ease;
}

.steps .circle.active {
  border-color: #25079d;
  color: #25079d;
}

.steps .progress-bar {
  position: absolute;
  left: 10px;
  height: 4px;
  width: 90%;
  background: #e0e0e0;
  z-index: -1;
}

.progress-bar .indicator {
  position: absolute;
  height: 100%;
  width: 0%;
  background: #25079d;
  transition: all 300ms ease;
}

.steps .label {
  margin-top: 10px;
  font-size: 14px;
  color: #555;
}


/* Form wrapper */
.wrapper {
  width: 100%;
  max-width: 400px;
  background-color: #ffffff;
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  padding: 20px;
}

h2 {
  text-align: center;
  margin-bottom: 20px;
  color: #333;
}

.form-group {
  margin-bottom: 15px;
}

label {
  font-size: 14px;
  color: #666;
  margin-bottom: 5px;
  display: block;
}

input, select, textarea {
  width: 100%;
  padding: 10px;
  font-size: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
}

input:focus, select:focus, textarea:focus {
  border-color: #320ac4;
  outline: none;
}

textarea {
  resize: vertical;
  min-height: 80px;
}

/* Submit Button */
.submit-btn {
  width: 100%;
  padding: 15px;
  background-color: #320ac4;
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 16px;
  cursor: pointer;
  transition: background-color 0.3s;
}

.submit-btn:hover {
  background-color: #25079d;
}

/* Map */
#map {
  height: 300px;
  width: 100%;
  border-radius: 8px;
  margin-top: 15px;
  margin-bottom: 15px;
}

  </style>
</head>
<body>
  <!-- Banner -->
  <div class="banner">
    <img src="https://via.placeholder.com/400x150" alt="Banner Image">
  </div>

  <div class="container">
    <div class="steps">
        <div class="step">
            <span class="circle active">1</span>
            <span class="label">Cek Lokasi</span>
        </div>
        <div class="step">
            <span class="circle">2</span>
            <span class="label">Isi Data Diri</span>
        </div>
        <div class="step">
            <span class="circle">3</span>
            <span class="label">Instalasi</span>
        </div>
        <div class="progress-bar" style="margin-bottom: 7%;">
            <span class="indicator"></span>
        </div>
    </div>
</div>


  <!-- Form -->
  <div class="wrapper">
    <h2>Form Pengisian Lokasi</h2>

    <!-- Lokasi dari Peta -->
    <div class="form-group">
      <label for="lokasi">Pilih Lokasi dari Peta:</label>
      <input type="text" id="lokasi" placeholder="Cari lokasi..." disabled>
    </div>

    <div id="map"></div>

    <!-- Dropdown Kecamatan -->
    <div class="form-group">
      <label for="kecamatan">Pilih Kecamatan:</label>
      <select id="kecamatan" required>
        <option value="">Pilih Kecamatan</option>
        <option value="Binawidya">Binawidya</option>
        <option value="Bukit Raya">Bukit Raya</option>
        <option value="Kulim">Kulim</option>
        <option value="Lima Puluh">Lima Puluh</option>
        <option value="Marpoyan Damai">Marpoyan Damai</option>
        <option value="Payung Sekaki">Payung Sekaki</option>
        <option value="Pekanbaru Kota">Pekanbaru Kota</option>
        <option value="Rumbai Barat">Rumbai Barat</option>
        <option value="Rumbai">Rumbai</option>
        <option value="Rumbai Timur">Rumbai Timur</option>
        <option value="Sail">Sail</option>
        <option value="Senapelan">Senapelan</option>
        <option value="Sukajadi">Sukajadi</option>
        <option value="Tuah Madani">Tuah Madani</option>
        <option value="Tenayan Raya">Tenayan Raya</option>
      </select>
    </div>

    <!-- Alamat Lengkap -->
    <div class="form-group">
      <label for="alamat">Alamat Lengkap:</label>
      <textarea id="alamat" placeholder="Alamat lengkap Anda" required></textarea>
    </div>

    <button class="submit-btn" id="submit" onclick="submitForm()">Kirim</button>
  </div>

  <script>
    // JavaScript untuk menginisialisasi peta dan menangani form
    function initMap() {
      const mapOptions = {
        center: { lat: 0.5136, lng: 101.4454 },
        zoom: 14,
      };
      const map = new google.maps.Map(document.getElementById("map"), mapOptions);

      const marker = new google.maps.Marker({
        map: map,
        draggable: true,
        position: mapOptions.center,
      });

      const geocoder = new google.maps.Geocoder();
      google.maps.event.addListener(marker, "dragend", function () {
        geocoder.geocode({ location: marker.getPosition() }, (results, status) => {
          if (status === "OK" && results[0]) {
            document.getElementById("lokasi").value = results[0].formatted_address;
          }
        });
      });
    }

    function submitForm() {
      const lokasi = document.getElementById("lokasi").value;
      const kecamatan = document.getElementById("kecamatan").value;
      const alamat = document.getElementById("alamat").value;

      if (!lokasi || !kecamatan || !alamat) {
        alert("Harap isi semua data!");
        return;
      }

      alert(`Data dikirim:\nLokasi: ${lokasi}\nKecamatan: ${kecamatan}\nAlamat: ${alamat}`);
    }

    window.onload = initMap;

    document.addEventListener("DOMContentLoaded", () => {
  const steps = document.querySelectorAll(".step .circle");
  const indicator = document.querySelector(".progress-bar .indicator");

  let currentStep = 0;

  function updateProgress() {
    steps.forEach((circle, index) => {
      if (index <= currentStep) {
        circle.classList.add("active");
      } else {
        circle.classList.remove("active");
      }
    });

    const progressPercentage = (currentStep / (steps.length - 1)) * 100;
    indicator.style.width = `${progressPercentage}%`;
  }

  function nextStep() {
    if (currentStep < steps.length - 1) {
      currentStep++;
      updateProgress();
    }
  }

  function previousStep() {
    if (currentStep > 0) {
      currentStep--;
      updateProgress();
    }
  }

  // Event listener untuk tombol next dan previous (jika ada)
  document.getElementById("submit").addEventListener("click", () => {
    nextStep();
  });

  // Simulasikan langkah-langkah (tambahkan tombol atau event lain untuk memicu previousStep jika diperlukan)
  updateProgress();
});

  </script>
</body>
</html>
